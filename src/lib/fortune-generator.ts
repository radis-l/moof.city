import type { UserData, FortuneResult, AgeRange, BirthDay, BloodGroup } from '@/types'

// Fortune generation based on user data
export const generateFortune = (userData: UserData): FortuneResult => {
  const { ageRange, birthDay, bloodGroup } = userData
  
  // Generate lucky number based on user data
  const luckyNumber = generateLuckyNumber(ageRange, birthDay, bloodGroup)
  
  // Generate personalized predictions
  const relationship = generateRelationshipFortune(birthDay, bloodGroup, ageRange)
  const work = generateWorkFortune(ageRange, birthDay, bloodGroup)
  const health = generateHealthFortune(bloodGroup, ageRange)
  
  return {
    luckyNumber,
    relationship,
    work,
    health,
    generatedAt: new Date().toISOString()
  }
}

// Generate single lucky number (2-digits: 10-99) based on user attributes
const generateLuckyNumber = (
  ageRange: string,
  birthDay: string,
  bloodGroup: string
): number => {
  // Create seed from user data for consistent results
  const ageMultiplier = getAgeMultiplier(ageRange as AgeRange)
  const dayMultiplier = getDayMultiplier(birthDay as BirthDay)
  const bloodMultiplier = getBloodMultiplier(bloodGroup as BloodGroup)
  
  // Generate lucky number between 10-99 (2 digits)
  const seed = (ageMultiplier + dayMultiplier + bloodMultiplier) % 90 + 10
  const luckyNumber = ((seed * 17) % 90) + 10
  
  return luckyNumber
}

// Generate relationship fortune
const generateRelationshipFortune = (
  birthDay: string,
  bloodGroup: string,
  ageRange: string
): string => {
  const relationshipTemplates = {
    Monday: {
      A: ['ความรักของคุณในช่วงนี้ก็พอไปได้นะ ไม่ได้โรแมนติกอะไรมาก แต่ก็หวานชื่นดี คนที่เหมาะสมกับคุณจะเข้ามาในเร็วๆ นี้ เตรียมใจรับความสุขที่กำลังจะมาถึงได้เลย', 'คนที่คุณคิดถึงอยู่นั่นแหละ เขาก็คิดถึงคุณเหมือนกัน อย่ากังวลใจไปมาก ลองสังเกตเขาดูสิว่าจะเป็นไปได้ไง บางทีคำตอบก็อยู่ใกล้ตัวมากกว่าที่คิด'],
      B: ['เรื่องความรักของคุณนี่ก็ช่างไปมาก บางทีดีบางทีก็งั้นๆ แต่สักวันคงจะดีขึ้น อย่าได้เร่งรีบไปเลย ให้เวลากับความรู้สึกที่แท้จริงและดูแลหัวใจของตัวเองให้ดี', 'มีคนลับๆ ชอบคุณอยู่แล้ว เขาอาจจะยังไม่กล้าบอก ลองเปิดใจให้เขาได้รู้ความรู้สึกของคุณบ้าง อาจจะได้เซอร์ไพรส์ดีๆ ที่ไม่คาดคิดมา'],
      AB: ['เรื่องหัวใจของคุณนี่คิดซับซ้อนไปหน่อย บางทีก็ไม่รู้ว่าจะตัดสินใจยังไง แต่ช่วงนี้ควรตัดสินใจแล้วนะ ใจจะเริ่มชัดเจนขึ้นและรู้ว่าต้องการอะไรจริงๆ', 'ช่วงนี้เสน่ห์ของคุณดีมากเลย หลายคนจะมาจีบพร้อมกัน แต่อย่าได้เลือกแค่คนเดียว ความรักแท้จะดีกว่า อดทนรอคนที่ใช่จริงๆ ให้เจอนะ'],
      O: ['ความรักของคุณนี่มั่นคงดี คนอื่นจะเห็นและชื่นชมในตัวคุณ รักแท้กำลังจะเข้ามาอยู่ในชีวิตแล้วนะ ความสุขที่รออยู่จะคุ้มค่ากับการรอคอยมานานขนาดนี้', 'คนที่ใช่กำลังค่อยๆ เดินเข้ามาแล้ว อาจจะเป็นคนที่คุณเคยรู้จัก แต่อย่าได้รีบร้อนเกินไป ให้ทุกอย่างเป็นไปตามธรรมชาติและเวลาที่เหมาะสม']
    },
    Tuesday: {
      A: ['เรื่องหัวใจของคุณให้เวลามันหน่อยนะ ไม่ต้องเร่งรีบอะไร มันจะค่อยๆ ดีขึ้นเอง คนที่ใช่กำลังเดินทางมา ความสุขตัวจริงจะเข้ามาใสหัวใจคุณ กับคนที่จะมาดูแลในช่วงเวลาที่เหมาะสม', 'คนรักจะเข้ามาในเร็วๆ นี้แน่ๆ เตรียมใจไว้ให้ดี อย่าได้ปิดใจเอาไว้ ความรักที่ดีกำลังจะมา อาจจะเป็นความรักที่หวานและยั่งยืน มีความเข้าใจกันลึกซึ้ง'],
      B: ['ความรักของคุณมาแน่นอน แค่รออีกนิดเดียวเท่านั้น อดทนหน่อยนะ บางทีความรักที่ดีมันมาช้าหน่อย หัวใจจะติดผูกกันไปเรื่อยๆ ในทางที่ดีขึ้น คงจะเจอความรักที่ยั่งยืน', 'มีคนพิเศษคนหนึ่งกำลังมองหาคุณอยู่ เขามีความรู้สึกดีๆ กับคุณแล้ว แค่รอเวลาที่เหมาะสม รู้สึกว่าใจจะติดคุณอย่างระรื่น เพราะเขาเป็นคนที่มีความหมายและเป้าหมาย'],
      AB: ['ช่วงนี้หัวใจของคุณสับสนนิดหน่อย เรื่องรักไม่ค่อยใส แต่มันจะค่อยๆ ดีขึ้นเอง อย่ากังวลไปมาก กำลังจะได้ข่าวดีเรื่องความรัก ที่จะทำให้การตัดสินใจง่ายขึ้น', 'เรื่องรักของคุณจะมีบทพลิกให้ตื่นเต้น เตรียมใจไว้ให้ดี อาจจะเป็นคนที่คุณไม่คิดมาก่อน มีความเซอร์ไพรส์รอคุณอยู่ ถ้าพร้อมให้หัวใจเปิดรับมัน'],
      O: ['ความรักจะแกว่งเข้ามาแรงมาก รับไหวมั้ย? คุณเป็นคนที่น่าสนใจมาก หลายคนจะมาสนใจพร้อมกัน รู้สึกว่าจะเต้าแรงจนตัวเองแตก เตรียมรับมือความสุขที่กำลังจะเข้ามาในชีวิต', 'คนดีๆ คนหนึ่งกำลังเดินทางมาหาคุณแล้ว เขามีใจดีและจริงใจกับคุณมาก รอดูได้เลย นี่จะเป็นความรักที่เติมเต็ม และมีอนาคตให้หวังด้วย']
    },
    Wednesday: {
      A: ['วันนี้ดาวรักเรียงตัวดี เรื่องใจจะลุล่วงไปด้วยดี คนที่คุณรอกำลังจะปรากฏตัวขึ้นมา ทุกอย่างจะเริ่มดีขึ้น ทั้งความรักและเรื่องการงานจะเข้ามาเสริมสร้างชีวิต', 'คนเก่าที่เคยดีกับคุณจะกลับมาอีกครั้ง และครั้งนี้จะดีกว่าเดิมมาก ให้โอกาสเขาสักครั้งนะ อาจจะได้เริ่มต้นความรักใหม่อีกครั้ง บางทีอาจได้คำแนะนำที่ดีจากเขา'],
      B: ['รักแท้ที่คุณรอมานานจะมาถึงแล้ว อดทนมานานขนาดนี้คงจะได้รับผลตอบแทนที่ดี', 'คนรักจะแสดงความรู้สึกที่แท้จริงออกมา ไม่ต้องเดาใจกันอีกแล้ว ความรักจะชัดเจนขึ้น'],
      AB: ['ความรักของคุณจะมีค่ามากขึ้น ดูแลกันดีๆ นะ คนที่อยู่กับคุณตอนนี้เขาดีจริงๆ', 'ต้องเลือกแล้วว่าใจอยากได้คนไหน หยุดลังเลได้แล้ว คนที่ใช่อยู่ตรงหน้าคุณแล้ว'],
      O: ['ความรักจะเป็นแรงใจให้คุณทำงานได้ดีขึ้น มีคนคอยเป็นกำลังใจอยู่ข้างๆ รู้สึกอบอุ่นไหม', 'ข่าวดีเรื่องใจจะมาในเร็วๆ นี้ อาจจะเป็นข่าวแต่งงานหรือหมั้นหมายก็ได้']
    },
    Thursday: {
      A: ['พฤหัสบดีนี้ดีมาก คนรักจะเข้ามาในชีวิตจริงๆ ไม่ใช่แค่ในฝันอีกแล้ว เตรียมตัวต้อนรับเขา', 'ความรักของคุณจะก้าวไปเป็นครอบครัว คิดถึงเรื่องอนาคตร่วมกันได้แล้ว เขาจริงจังกับคุณมาก'],
      B: ['มีคนจะมาขอคบหรือขอแต่งงาน รับมั้ย? เขาเตรียมตัวมานานแล้ว และเขาจริงใจกับคุณมาก', 'เรื่องรักจะมีแต่เซอร์ไพรส์ดีๆ ให้ตื่นเต้น ชีวิตรักจะสีสันสดใสขึ้นเยอะ'],
      AB: ['ครอบครัวจะสนับสนุนเรื่องความรักของคุณ อุ่นใจเลย ทุกคนเห็นว่าคนนั้นเหมาะกับคุณมาก', 'เพื่อนจะแนะนำคนดีๆ ให้คุณรู้จัก ลองเปิดใจให้เขาได้รู้จักคุณดูสิ อาจจะใช่ก็ได้'],
      O: ['ความรักจะเป็นแรงผลักดันให้ชีวิตคุณดีขึ้น มีคนคอยให้กำลังใจและสนับสนุนในทุกๆ เรื่อง', 'คนรักจะทำให้ชีวิตของคุณสมบูรณ์มาก รู้สึกได้ว่าชีวิตมีสีสันและมีความสุขขึ้น']
    },
    Friday: {
      A: ['วันศุกร์นี้เสน่ห์ของคุณดีจัด จะมีหลายคนตกหลุมรัก แต่อย่าได้ภูมิใจจนลืมตัวนะ', 'ความรักจะหวานชื่นเหมือนน้ำผึ้งใหม่ๆ ทำให้รู้สึกอบอุ่นและมีความสุข ชีวิตจะหวานขึ้น'],
      B: ['จะได้เจอคนที่ถูกใจอย่างแรง แค่คิดก็ทำให้ยิ้มออกมา เขาเป็นคนที่คุณหาอยู่มานาน', 'ความรักจะมาแบบไม่ทันตั้งตัว พร้อมรับมั้ย? บางทีความรักที่ดีมันมาเร็วจนเราไม่ทัน'],
      AB: ['คนที่คุณคาดไม่ถึงจะเข้ามาทำให้หัวใจเต้นแรง เขาไม่ใช่ไทป์ที่คุณชอบ แต่กลับทำให้คุณหลงรัก', 'มีคนแอบชอบคุณมานานแล้ว และเขาจะมาบอกความรู้สึกเอง อย่าได้ตกใจ เขาเป็นคนดี'],
      O: ['ความรักจะเปลี่ยนชีวิตของคุณให้ดีขึ้นจริงๆ ทุกอย่างจะสดใสและมีความหมายมากขึ้น', 'คนรักจะเป็นกำลังใจที่สำคัญที่สุดในชีวิต เขาจะอยู่เคียงข้างคุณเสมอ ไม่ว่าจะเกิดอะไรขึ้น']
    },
    Saturday: {
      A: ['วันเสาร์นี้เสน่ห์ของคุณล้นออกมา คนรักจะเดินเข้ามาเอง ไม่ต้องไปหาเขา รอรับได้เลย', 'ความรักของคุณจะได้รับการพิสูจน์ว่าแท้จริง เขาจะแสดงให้เห็นว่าเขารักคุณมากแค่ไหน'],
      B: ['จะได้รับข้อเสนอสำคัญเรื่องความรัก ตัดสินใจด้วยใจเย็นๆ นะ อย่าได้ตอบรีบร้อน', 'ความรักจะเป็นไปตามที่คุณฝันไว้ ทุกอย่างจะลื่นไหลและสวยงาม เหมือนในเทพนิยาย'],
      AB: ['ช่วงนี้เรื่องความรักของคุณดีทุกด้าน ไม่มีอะไรให้กังวล ความสุขจะเข้ามาเติมเต็มหัวใจ', 'การเดินทางไปที่ไหนจะทำให้เจอรักใหม่ ลองไปเที่ยวบ้าง อย่าได้อยู่แต่ในบ้าน'],
      O: ['ความรักของคุณมั่นคงและยั่งยืน วางใจได้ เขาจะไม่ไปไหน จะอยู่กับคุณไปนานๆ', 'คนรักจะดูแลคุณด้วยใจจริงใส ไม่มีอะไรปิดบัง ความรักนี้บริสุทธิ์และสวยงาม']
    },
    Sunday: {
      A: ['วันอาทิตย์นี้แสงรักจะส่องมาที่คุณ ทำให้ชีวิตสดใสขึ้น ความสุขจะเข้ามาเติมเต็มใจ', 'คำตอบที่คุณรอคอยจะมาในวันนี้ เขาจะบอกความรู้สึกที่แท้จริง และมันจะดีกว่าที่คิด'],
      B: ['ความรักจะเป็นแรงบันดาลใจให้คุณสร้างสรรค์สิ่งดีๆ ชีวิตจะมีสีสันและเต็มไปด้วยความหวัง', 'คนรักจะมาเยี่ยมคุณที่บ้าน เตรียมต้อนรับเขาให้ดี อาจจะมีข่าวดีมาบอกด้วย'],
      AB: ['ผู้ใหญ่ในครอบครัวจะให้พรความรักของคุณ อุ่นใจมาก ทุกคนเห็นว่าคนนั้นดีและเหมาะกับคุณ', 'จะมีงานแต่งงานในครอบครัวใกล้ๆ นี้ บรรยากาศความรักจะทำให้คุณคิดถึงความรักของตัวเอง'],
      O: ['ความรักของคุณจะเติบโตในสายตาของคนอื่น ทุกคนจะเห็นว่าคุณกับเขาเข้ากันได้ดีมาก', 'ข่าวดีเรื่องความรักจะมาก่อนสิ้นปีนี้ อาจจะเป็นข่าวหมั้นหมายหรือแต่งงานก็ได้']
    }
  }
  
  const dayTemplates = relationshipTemplates[birthDay as keyof typeof relationshipTemplates]
  const bloodTemplates = dayTemplates?.[bloodGroup as keyof typeof dayTemplates] || dayTemplates?.['A']
  
  if (!bloodTemplates || bloodTemplates.length === 0) {
    return 'ความรักจะเปลี่ยนแปลงไปในทางที่ดี'
  }
  
  // Select fortune based on age range
  const ageIndex = ageRange === '<18' ? 0 : ageRange === '55+' ? 1 : Math.floor(Math.random() * bloodTemplates.length)
  return bloodTemplates[ageIndex % bloodTemplates.length]
}

// Generate work fortune
const generateWorkFortune = (
  ageRange: string,
  birthDay: string,
  bloodGroup: string
): string => {
  const workTemplates = {
    '<18': [
      'การเรียนของคุณในช่วงนี้ก็เรียบร้อยดีนะ กับบ้านไม่ค่อยสามารถ แต่งานโดดเด่น ครูจะเห็นว่าคุณมีความสามารถพิเศษ เตรียมตัวรับรางวัลเลย ผลการเรียนจะดีขึ้นเรื่อยๆ ถ้าขยันต่อไป',
      'ได้โอกาสดีๆ ในการแข่งขันหรือแสดงผลงาน ความเก่งของคุณจะเป็นที่จับตา อย่าลืมที่จะตั้งใจเอา มีโอกาสได้ทุนหรือรางวัลจากการแข่งขัน เพื่อนๆ จะยกย่องและมองคุณเป็นแบบอย่าง',
      'เรื่องการเรียนในช่วงนี้คุณคงจะรู้สึกอย่างมากว่าทุกคนจะคิด ผลงานจะออกมาโดดเด่น แต่อย่าได้ปล่อยทิ้งความพยายาม ผลของความเข้มแข็งจะมาเอง ครูและผู้ปกครองจะภูมิใจในตัวคุณมาก'
    ],
    '18-25': [
      'งานของคุณที่กำลังรอนั้นคงจะมาเคาะประตูสักเร็ว เตรียมตัวไว้เลย บางทีอาจจะต้องสัมภาษณ์งานก่อน แต่ความตั้งใจที่จะทำงานที่นั่นมีแล้ว ความมั่นใจและความพร้อมจะเป็นกุญแจสำคัญ และจะก้าวไปสู่ความสำเร็จในอาชีพที่เลือก',
      'ผู้ใหญ่เริ่มเห็นความสามารถของคุณแล้ว จากที่ดูได้ว่าคุณเป็นคนที่ขยันและเชื่อถือได้ การทำงานจะได้รับการยอมรับจากคนรอบข้าง ความมั่นใจในการทำงานจะเป็นจุดเด่น และจะก้าวไปสู่การเติบโตในอนาคต',
      'มีโอกาสได้เปลี่ยนสายงานให้ดีขึ้นกว่าเดิม ดูเหมือนคุณมีความสามารถที่จะไปไกล สัมพันธ์กับเพื่อนร่วมงานสำคัญมาก ทักษะการสื่อสารและการนำเสนองานจะเป็นจุดเด่น และจะได้รับการยอมรับจากทีมงานมากขึ้น'
    ],
    '26-35': [
      'การงานของคุณในช่วงนี้จะลื่นไหลไปด้วยดี คนรอบข้างเริ่มเห็นและชื่นชมในตัวคุณ ตำแหน่งงานที่คุณทำอยู่จะขยับขึ้นไปอีกขั้นแน่',
      'เงินเดือนจะขึ้นตามความสามารถที่คุณมี คนที่รู้จักกับคุณจะให้ความช่วยเหลือ ทั้งจากเพื่อนร่วมงานและหัวหน้า ทุกคนจะเริ่มมองคุณในมุมใหม่',
      'จะได้รับมอบหมายงานใหญ่ๆ ที่สำคัญ คุณจะรู้สึกว่าตัวเองมีค้ายความสามารถและคุณจะได้รับการยอมรับจากทุกคน ความรับผิดชอบที่ถูกมอบหมายให้สำคัญ'
    ],
    '36-45': [
      'การลงทุนในช่วงนี้จะมีผลกำไรที่ดีเกินคาด คุณน่าจะเป็นนักลงทุนมากขึ้น บางทีอาจจะเป็นการลงทุนจากคนที่คุณรู้จัก หรือก็อาจจะเป็นแบบจับมือกันทำ ความเชี่ยวชาญและประสบการณ์ที่สั่งสมมาจะเป็นทุนในการตัดสินใจ และจะมีผลตอบแทนที่ดีมากกว่าที่คาด',
      'ธุรกิจส่วนตัวของคุณจะเติบโตและขยายตัวดีมาก คนที่เคยทำงานภายใต้จะมาขอคำแนะนำ ความสามารถในการบริหารคนจะเป็นจุดแข็งของคุณ งานที่ทำจะให้รายได้เพิ่มขึ้นและมั่นคงมากขึ้น ความสำเร็จในการบริหารจัดการจะเป็นที่ประจักษ์',
      'จะมีคู่ค้าใหม่เข้ามาร่วมงานกับคุณ คนที่มีความสามารถในเรื่องที่คุณเข้าใจ ที่จะช่วยให้งานเดินหน้าไปได้ สายงานใหม่อาจจะเข้ามาเสริมให้การลงทุนและธุรกิจขยายตัวยิ่งขึ้น ความร่วมมือในการลงทุนจะทำให้ผลตอบแทนดีขึ้น'
    ],
    '46-55': [
      'ความเชี่ยวชาญและประสบการณ์ที่มีจะเป็นที่ต้องการของตัวตรงและคนอื่นๆ คุณจะได้รับการยกย่องให้เป็นที่ปรึกษาหรือเป็นที่หาคำแนะนำ คนรุ่นใหม่จะมาขอคำแนะนำและความช่วยเหลือ ความรู้ที่สั่งสมจะเป็นพื้นฐานในการพัฒนาองค์กรและบุคคล',
      'จะได้ก้าวขึ้นไปเป็นผู้บริหารหรือหัวหน้าทีม คนที่เคยทำงานกับคุณจะเห็นคล้ายความเข้าใจ และจะมาขอคำแนะนำ ความสามารถในการบริหารคนจะเป็นจุดแข็งของคุณ ตำแหน่งงานที่รับผิดชอบจะมีความสัมพันธ์ที่ดี และจะได้รับการให้คำปรึกษาที่มีค่า',
      'รายได้ที่ไม่ได้คาดไว้จะเริ่มมาจากหลายทาง ความสามารถที่คุณสั่งสมจะเป็นทุน ผลงานที่ได้จะมาจากหลากหลายแหล่ง ทั้งจากการลงทุนและการทำธุรกิจส่วนตัว ความเชี่ยวชาญที่มีจะเป็นสิ่งที่ดึงดูดใจในการสร้างความมั่งคั่ง'
    ],
    '55+': [
      'ประสบการณ์และความรู้ที่สั่งสมจะกลายเป็นทุนที่ใช้หาเลี้ยงชีพได้ คนที่เคยทำงานห้าทุ่งจะเห็นคุณค่า ความรู้ที่มีจะเป็นที่พึ่งได้และนับถือได้ วัยนี้ควรใช้ชีวิตให้สบายขึ้น และผลตอบแทนจากความเข้มแข็งจะดีกว่าที่คาด',
      'จะได้การยกย่องให้เป็นที่ปรึกษาและเป็นแหล่งความรู้สำคัญในวงการ คนที่เคยทำงานกับคุณจะเห็นคล้ายความเข้าใจ และจะมาขอคำแนะนำ',
      'มีโอกาสได้ถ่ายทอดความรู้และประสบการณ์ให้คนรุ่นใหม่ คนที่อายุน้อยกว่าจะมาขอคำแนะนำ ความรู้ที่มีจะมีความหมายและผลกระทบต่อคนรอบข้างด้วย'
    ]
  }
  
  const bloodMultiplier = {
    'A': 'งานของคุณในช่วงนี้จะลื่นไหลไปด้วยดีนะ คนที่ร่วมงานกับคุณจะให้ความช่วยเหลือ เพราะคุณเป็นคนที่ระวังและทำงานอย่างมีระบบ แต่ผลงานที่ออกมาจะดีมาก ความรับผิดชอบในการทำงานจะได้รับการยอมรับ และจะมีความก้าวหน้าในองค์กร',
    'B': 'ไอเดียและความคิดสร้างสรรค์ของคุณจะทำให้งานออกมาโดดเด่น คนอื่นจะมองคุณในแง่มุมใหม่ และจะเห็นว่าคุณมีความสามารถและความคิดที่แตกต้าง ผลงานจะโดดเด่นและได้รับการยอมรับ ความคิดเชิงสร้างสรรค์จะเป็นจุดเด่น',
    'AB': 'การประสานงานและการสื่อสารจะเป็นไปอย่างราบรื่นและมีประสิทธิภาพ ทุกฝ่ายจะรู้สึกว่าคุณทำงานได้ดี และได้รับการยอมรับจากทุกคน ตำแหน่งงานที่รับผิดชอบจะมีความสัมพันธ์ที่ดี และจะมีความก้าวหน้าในองค์กร',
    'O': 'คุณเป็นคนที่มีความเป็นผู้นำตามธรรมชาติ เป็นคนที่นำพาทีมและคนอื่นจะตาม ความเป็นผู้นำนี่จะทำให้คุณประสบความสำเร็จในงาน และคนอื่นจะเชื่อในความสามารถของคุณ ความสำเร็จในการทำงานจะได้รับการยอมรับ และจะมีความก้าวหน้าในองค์กร'
  }
  
  const ageTemplates = workTemplates[ageRange as keyof typeof workTemplates] || workTemplates['26-35']
  const randomIndex = Math.floor(Math.random() * ageTemplates.length)
  const baseMessage = ageTemplates[randomIndex]
  const bloodMessage = bloodMultiplier[bloodGroup as keyof typeof bloodMultiplier] || bloodMultiplier['A']
  
  return Math.random() > 0.5 ? baseMessage : bloodMessage
}

// Generate health fortune
const generateHealthFortune = (
  bloodGroup: string,
  ageRange: string
): string => {
  const healthTemplates = {
    A: [
      'สุขภาพแข็งแรงขึ้นเรื่อยๆ ระวังเรื่องนอนนะ ภูมิคุ้มกันดี แต่ออกกำลังกายเพิ่มหน่อย ร่างกายก็แข็งแรงตาม',
      'ระบบภูมิคุ้มกันแข็งแรงดี แต่ออกกำลังกายเพิ่มหน่อย สุขภาพจิตดี ร่างกายก็แข็งแรงตาม',
      'สุขภาพจิตดี ร่างกายก็แข็งแรงตาม ระวังเรื่องนอนนะ ออกกำลังกายเป็นประจำจะทำให้สุขภาพดีขึ้นมาก'
    ],
    B: [
      'พลังเต็มเปี่ยม ระวังกินจัดจ้านไป เลือดไหลเวียนดี ออกกำลังกายสม่ำเสมอ จะทำให้สุขภาพดีขึ้นเยอะ',
      'การไหลเวียนของเลือดดี ออกกำลังกายสม่ำเสมอ สุขภาพดีโดยรวม แต่ดูแลท้องหน่อย ระวังอาหารจัดจ้านไป',
      'สุขภาพดีโดยรวม แต่ดูแลท้องหน่อย ระวังกินจัดจ้านไป ออกกำลังกายสม่ำเสมอจะช่วยได้เยอะ'
    ],
    AB: [
      'ร่างกายสมดุลดี สุขภาพค่อยๆ ขึ้น ระวังเครียด พักผ่อนให้เพียงพอ จะทำให้สุขภาพดีขึ้นเรื่อยๆ',
      'ระวังความเครียด พักผ่อนให้เพียงพอ สุขภาพจะดีขึ้นตามวัยเลย ร่างกายสมดุล ทำให้รู้สึกดี',
      'สุขภาพดีขึ้นตามวัยเลย ระวังความเครียด พักผ่อนให้เพียงพอ จะทำให้รู้สึกสดชื่นและมีแรง'
    ],
    O: [
      'พลังแข็งแกร่งธรรมชาติ ดูแลข้อกระดูกด้วย ระบบหัวใจหลอดเลือดแข็งแรง ออกกำลังกายจะช่วยได้เยอะ',
      'หัวใจหลอดเลือดแข็งแรงดี ออกกำลังกายสม่ำเสมอ พลังแข็งแกร่งธรรมชาติ ดูแลข้อกระดูกด้วย',
      'ดื่มน้ำเยอะๆ สุขภาพจะดีขึ้นมาก พลังแข็งแกร่งธรรมชาติ แต่ระวังข้อและกระดูก ออกกำลังกายจะช่วย'
    ]
  }
  
  const ageAdvice = {
    '<18': ' วัยเรียนระวังท่านั่งด้วยนะ การนั่งท่าไม่ดีจะทำให้กระดูกสันหลังเสีย อนาคตจะมีปัญหา',
    '18-25': ' หนุ่มสาวระวังกินดึกไป การนอนดึกจะทำให้ระบบภูมิคุ้มกันแย่ลง ผิวพรรณก็จะไม่ดี',
    '26-35': ' วัยทำงานหาเวลาออกกำลังกาย การนั่งทำงานนานๆ จะทำให้กล้ามเนื้อลีบและเมื่อยล้า',
    '36-45': ' ตรวจสุขภาพประจำปีสม่ำเสมอ วัยนี้ร่างกายเริ่มเปลี่ยนแปลง ควรดูแลตัวเองมากขึ้น',
    '46-55': ' พักผ่อนเพิ่ม ลดความเครียด วัยนี้ควรใช้ชีวิตให้สบายขึ้น ไม่ต้องเครียดมากเกินไป',
    '55+': ' ดูแลสุขภาพด้วยใจรักนะ วัยนี้ร่างกายต้องการความเอาใจใส่มากขึ้น ออกกำลังกายเบาๆ'
  }
  
  const bloodTemplates = healthTemplates[bloodGroup as keyof typeof healthTemplates] || healthTemplates['O']
  const randomIndex = Math.floor(Math.random() * bloodTemplates.length)
  const baseMessage = bloodTemplates[randomIndex]
  const ageMessage = ageAdvice[ageRange as keyof typeof ageAdvice] || ageAdvice['26-35']
  
  return baseMessage + ageMessage
}

// Helper functions for number generation
const getAgeMultiplier = (ageRange: AgeRange): number => {
  const multipliers = { '<18': 5, '18-25': 7, '26-35': 11, '36-45': 13, '46-55': 17, '55+': 19 }
  return multipliers[ageRange] || 11
}

const getDayMultiplier = (birthDay: BirthDay): number => {
  const multipliers = {
    'Monday': 2, 'Tuesday': 3, 'Wednesday': 5, 'Thursday': 7,
    'Friday': 11, 'Saturday': 13, 'Sunday': 17
  }
  return multipliers[birthDay] || 7
}

const getBloodMultiplier = (bloodGroup: BloodGroup): number => {
  const multipliers = { 'A': 3, 'B': 5, 'AB': 7, 'O': 11 }
  return multipliers[bloodGroup] || 7
}